!function(e){"use strict";function t(e,t){if(!e)throw new Error("No selector");if(e.length>0)throw new Error("Selector is an array");for(var r=0;r<o.length;r++)if(o[r]===e)throw new Error("Already init");var n=this;n.args={btnPrev:"ffs_prev",btnNext:"ffs_next",dots:"ffs_dot",dotCurrent:"is-active",items:"ffs_i",currentClass:"is-active",showPrevClass:"ffs_i-showPrev",showNextClass:"ffs_i-showNext",hidePrevClass:"ffs_i-hidePrev",hideNextClass:"ffs_i-hideNext",infinite:!0,keys:!0,idx:0},n.args=i(n.args,t),n.$s=e,n.event=null,n.items=Array.prototype.slice.call(n.$s.querySelectorAll("."+n.args.items)),n.nb=n.items.length-1,n.idx=n.args.idx,n.btnPrev=n.$s.querySelector("."+n.args.btnPrev),n.btnNext=n.$s.querySelector("."+n.args.btnNext),n.dots=Array.prototype.slice.call(n.$s.querySelectorAll("."+n.args.dots)),n.bindEvts(),n.addEvt(),n.args.keys&&n.$s.setAttribute("tabindex",-1),s(n.items[n.idx],n.args.currentClass),n.dots&&s(n.dots[n.idx],n.args.dotCurrent),(n.btnPrev||n.btnNext)&&(n.btnPrev.removeAttribute("disabled"),n.btnNext.removeAttribute("disabled"),n.updateBtns()),setTimeout(function(){n.event.detail.current=n.idx,n.$s.dispatchEvent(n.event)},0)}function s(e,t){e&&(e.className=e.className.replace(/\s+$/gi,"")+" "+t)}function r(e,t){e&&(e.className=e.className.replace(t,""))}function n(e){return e?document.querySelectorAll("."+e):void 0}function i(e,t){var s,r={};for(s in e)r[s]=e[s];for(s in t)r[s]=t[s];return r}function a(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),s}var o=[],d=t.prototype;d.updateBtns=function(){var e=this;(e.btnPrev||e.btnNext)&&(e.idx!==e.nb||e.args.infinite?0!==e.idx||e.args.infinite||e.btnPrev.setAttribute("disabled","disabled"):e.btnNext.setAttribute("disabled","disabled"))},d.removeAttrs=function(){var e=this;r(e.items[e.idx],e.args.currentClass),r(n(e.args.hidePrevClass)[0],e.args.hidePrevClass),r(n(e.args.hideNextClass)[0],e.args.hideNextClass),r(n(e.args.showPrevClass)[0],e.args.showPrevClass),r(n(e.args.showNextClass)[0],e.args.showNextClass),(e.btnPrev||e.btnNext)&&(e.btnPrev.removeAttribute("disabled"),e.btnNext.removeAttribute("disabled")),e.dots&&r(n(e.args.dotCurrent)[0],e.args.dotCurrent)},d.goTo=function(e){var t=this;if(e!==t.idx){if(t.args.infinite&&-1===e)e=t.nb-1;else if(e>t.nb||0>e)return;t.removeAttrs(),s(t.items[t.idx],e>t.idx?t.args.hidePrevClass:t.args.hideNextClass),s(t.items[e],t.args.currentClass+" "+(e>t.idx?t.args.showNextClass:t.args.showPrevClass)),t.dots&&s(t.dots[e],t.args.dotCurrent),t.idx=e,t.updateBtns(),t.event.detail.current=t.idx,t.$s.dispatchEvent(t.event)}},d.prev=function(){var e=this;e.args.infinite&&0===e.idx?e.goTo(e.nb):e.goTo(e.idx-1)},d.next=function(){var e=this;e.idx>=e.nb&&e.args.infinite?e.goTo(0):e.goTo(e.idx+1)},d.bindEvts=function(){var e=this;o.push(e.$s),e.btnPrev&&e.btnPrev.addEventListener("click",function(t){t.preventDefault(),e.prev()}),e.btnNext&&e.btnNext.addEventListener("click",function(t){t.preventDefault(),e.next()}),e.dots&&e.dots.forEach(function(t,s){t.addEventListener("click",function(){e.goTo(s)})}),e.args.keys&&(e.$s.onkeydown=function(t){switch(t.keyCode){case 37:e.prev();break;case 39:e.next()}})},d.on=function(e,t){var s=this;s.$s.addEventListener(e,function(e){return t(e)},!1)},d.addEvt=function(){var e=this;e.event=new a("change",{detail:{slider:e.$s,current:Number(e.idx)},bubbles:!0,cancelable:!0})},a.prototype=window.CustomEvent.prototype,window.CustomEvent=a,e.ffslider=t}(this);